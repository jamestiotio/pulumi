<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1393" height="644" contentScriptType="application/ecmascript" contentStyleType="text/css" preserveAspectRatio="none" style="width:1393px;height:644px;background:#fff" version="1.1" viewBox="0 0 1393 644" zoomAndPan="magnify"><defs><filter id="fqymxxka9icp1" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect width="752" height="632.211" x="352.5" fill="#DDD" style="stroke:#a80036;stroke-width:1" y="6"/><text x="705" y="18.568" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="47">Engine</text><rect width="10" height="318.416" x="421" y="92.109" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="159.208" x="773" y="121.42" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="100.587" x="1039" y="280.628" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="67.621" x="1039" y="523.102" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="150.731" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="209.352" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="322.594" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="552.412" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="63" x2="63" y1="60.799" y2="418.525"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="63" x2="63" y1="418.525" y2="459.481"/><line style="stroke:#a80036;stroke-width:1" x1="63" x2="63" y1="459.481" y2="599.723"/><line style="stroke:#a80036;stroke-width:1" x1="425.5" x2="425.5" y1="60.799" y2="418.525"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="425.5" x2="425.5" y1="418.525" y2="459.481"/><line style="stroke:#a80036;stroke-width:1" x1="425.5" x2="425.5" y1="459.481" y2="599.723"/><line style="stroke:#a80036;stroke-width:1" x1="777.5" x2="777.5" y1="60.799" y2="418.525"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="777.5" x2="777.5" y1="418.525" y2="459.481"/><line style="stroke:#a80036;stroke-width:1" x1="777.5" x2="777.5" y1="459.481" y2="599.723"/><line style="stroke:#a80036;stroke-width:1" x1="1043.5" x2="1043.5" y1="60.799" y2="418.525"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="1043.5" x2="1043.5" y1="418.525" y2="459.481"/><line style="stroke:#a80036;stroke-width:1" x1="1043.5" x2="1043.5" y1="459.481" y2="599.723"/><line style="stroke:#a80036;stroke-width:1" x1="1312" x2="1312" y1="60.799" y2="418.525"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="1312" x2="1312" y1="418.525" y2="459.481"/><line style="stroke:#a80036;stroke-width:1" x1="1312" x2="1312" y1="459.481" y2="599.723"/><rect width="112" height="30.488" x="5" y="25.311" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="12" y="45.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98">Language SDK</text><rect width="112" height="30.488" x="5" y="598.723" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="12" y="619.258" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98">Language SDK</text><rect width="135" height="30.488" x="356.5" y="25.311" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="363.5" y="45.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121">Resource Monitor</text><rect width="135" height="30.488" x="356.5" y="598.723" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="363.5" y="619.258" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121">Resource Monitor</text><rect width="117" height="30.488" x="717.5" y="25.311" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="724.5" y="45.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103">Step Generator</text><rect width="117" height="30.488" x="717.5" y="598.723" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="724.5" y="619.258" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103">Step Generator</text><rect width="109" height="30.488" x="987.5" y="25.311" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="994.5" y="45.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95">Step Executor</text><rect width="109" height="30.488" x="987.5" y="598.723" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="994.5" y="619.258" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95">Step Executor</text><rect width="138" height="30.488" x="1241" y="25.311" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="1248" y="45.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124">Resource Provider</text><rect width="138" height="30.488" x="1241" y="598.723" fill="#FEFECE" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1.5"/><text x="1248" y="619.258" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124">Resource Provider</text><rect width="10" height="318.416" x="421" y="92.109" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="159.208" x="773" y="121.42" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="100.587" x="1039" y="280.628" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="67.621" x="1039" y="523.102" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="150.731" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="209.352" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="322.594" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><rect width="10" height="29.311" x="1307" y="552.412" fill="#FFF" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><polygon fill="#A80036" points="409 88.109 419 92.109 409 96.109 413 92.109" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="63" x2="415" y1="92.109" y2="92.109"/><text x="70" y="87.367" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339">RegisterResourceRequest(type, name, inputs, options)</text><polygon fill="#A80036" points="761 117.42 771 121.42 761 125.42 765 121.42" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="431" x2="767" y1="121.42" y2="121.42"/><text x="438" y="116.678" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323">RegisterResourceEvent(type, name, inputs, options)</text><polygon fill="#A80036" points="1295 146.731 1305 150.731 1295 154.731 1299 150.731" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="783" x2="1301" y1="150.731" y2="150.731"/><text x="790" y="145.988" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244">CheckRequest(type, inputs, old inputs)</text><polygon fill="#A80036" points="794 176.041 784 180.041 794 184.041 790 180.041" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="788" x2="1311" y1="180.041" y2="180.041"/><text x="800" y="175.299" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205">CheckResponse(inputs&apos;, failures)</text><polygon fill="#A80036" points="1295 205.352 1305 209.352 1295 213.352 1299 209.352" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="783" x2="1301" y1="209.352" y2="209.352"/><text x="790" y="204.609" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279">DiffRequest(type, inputs&apos;, old state, options)</text><polygon fill="#A80036" points="794 234.662 784 238.662 794 242.662 790 238.662" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="788" x2="1311" y1="238.662" y2="238.662"/><text x="800" y="233.92" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121">DiffResponse(diffs)</text><polygon fill="#A80036" points="1027 276.628 1037 280.628 1027 284.628 1031 280.628" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="778" x2="1033" y1="280.628" y2="280.628"/><text x="785" y="275.886" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237">CreateStep(inputs&apos;, old state, options)</text><path fill="#FBFB77" d="M375,251.6621 L375,291.6621 L764,291.6621 L764,261.6621 L754,251.6621 L375,251.6621" filter="url(#fqymxxka9icp1)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M754,251.6621 L754,261.6621 L764,261.6621 L754,251.6621" style="stroke:#a80036;stroke-width:1"/><text x="381" y="269.231" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357">This is fire-and-forget on the part of the step generator.</text><text x="381" y="284.541" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368">The step will run in parallel with steps for other resources.</text><polygon fill="#A80036" points="1295 318.594 1305 322.594 1295 326.594 1299 322.594" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="1049" x2="1301" y1="322.594" y2="322.594"/><text x="1056" y="317.852" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239">CreateRequest(type, inputs&apos;, old state)</text><polygon fill="#A80036" points="1060 347.904 1050 351.904 1060 355.904 1056 351.904" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="1054" x2="1311" y1="351.904" y2="351.904"/><text x="1066" y="347.162" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168">CreateResponse(new state)</text><polygon fill="#A80036" points="442 377.215 432 381.215 442 385.215 438 381.215" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="436" x2="1043" y1="381.215" y2="381.215"/><text x="448" y="376.473" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99">done(new state)</text><polygon fill="#A80036" points="74 406.525 64 410.525 74 414.525 70 410.525" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="68" x2="425" y1="410.525" y2="410.525"/><text x="80" y="405.783" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287">RegisterResourceResponse(urn, ID, new state)</text><text x="630" y="443.16" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115">Pulumi program exits</text><line style="stroke:#a80036;stroke-width:1" x1="778" x2="820" y1="480.791" y2="480.791"/><line style="stroke:#a80036;stroke-width:1" x1="820" x2="820" y1="480.791" y2="493.791"/><line style="stroke:#a80036;stroke-width:1" x1="779" x2="820" y1="493.791" y2="493.791"/><polygon fill="#A80036" points="789 489.791 779 493.791 789 497.791 785 493.791" style="stroke:#a80036;stroke-width:1"/><text x="785" y="476.049" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135">Generate delete steps</text><polygon fill="#A80036" points="1027 519.102 1037 523.102 1027 527.102 1031 523.102" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="778" x2="1033" y1="523.102" y2="523.102"/><text x="785" y="518.359" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130">DeleteStep(old state)</text><polygon fill="#A80036" points="1295 548.412 1305 552.412 1295 556.412 1299 552.412" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="1049" x2="1301" y1="552.412" y2="552.412"/><text x="1056" y="547.67" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188">DeleteRequest(type, old state)</text><polygon fill="#A80036" points="1060 577.723 1050 581.723 1060 585.723 1056 581.723" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="1054" x2="1311" y1="581.723" y2="581.723"/><text x="1066" y="576.981" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108">DeleteResponse()</text></g></svg>